modified general.cs to fit network settings, need testing